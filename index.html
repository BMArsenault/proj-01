<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">
    <link SameSite="None;secure" href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="style.css">
    <title>Hike Spot</title>
</head>
<body>
    <header id="header" class="row mb-2">
        <div class="col-12 title text-center">
            <p class="text">Hike Spot</p>
        </div>
    </header>
    <div class="container">
        <div class="row">
            <div class="container-left col-4">
                <h2 class="ml-4 other-head">Where would you like to hike?</h2>
                <div class="ml-5 mb-3">
                  <input id="city" class="the-city" placeholder="Pick a city"></input>
                  <button id="searchbtn" class="search">Search</button>
                </div>
      
                <div class="container mt-3">
                    <h4 class="third-head">Previous Searches</h4>
                    <div class="history"></div>
                    <div class="history-list">
                        <div class="card border">
                            <ul class="list-group previous-searches border">
                                <button class="clear">Clear History</button>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

          <div class="container-right col-8">
            <div class="card map mb-4">
                <h1>Trail Map</h1>
                <div id='map' style='width: 400px; height: 300px;'></div>
                <iframe width='100%' height='400px' src="https://api.mapbox.com/styles/v1/bmarsenault/ckvz3cc8717zt15rzmqhb1yxt.html?title=false&access_token=pk.eyJ1IjoiYm1hcnNlbmF1bHQiLCJhIjoiY2t2dmlqNTd3NmUzdDMxczE3eDZhbWZ6cSJ9.Xdpp-ALevFxYRQnHx5BwhA&zoomwheel=false#9.55/37.278/-112.7652" title="Outdoors" style="border:none;"></iframe>
            </div>
            <div class="card weather">
                <h1>Weather</h1>
            </div>
          </div>
        </div> 
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
    integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiYm1hcnNlbmF1bHQiLCJhIjoiY2t2dmlqNTd3NmUzdDMxczE3eDZhbWZ6cSJ9.Xdpp-ALevFxYRQnHx5BwhA';
        const map = new mapboxgl.Map({
        container: 'map', // container ID
        center: [-74.5, 40], // starting position [lng, lat]
        zoom: 9, // starting zoom
        style: 'mapbox://styles/bmarsenault/ckvz3cc8717zt15rzmqhb1yxt', // style URL  if bmarsenault doesn't work, use -> mapbox://styles/mapbox/outdoors-v11
        hash: true, // sync `center`, `zoom`, `pitch`, and `bearing` with URL
        // Use `transformRequest` to modify requests that begin with `http://myHost`.
        transformRequest: (url, resourceType) => {
        if (resourceType === 'Source' && url.startsWith('http://myHost')) {
            return {
                url: url.replace('http', 'https'),
                headers: {'my-custom-header': true},
                credentials: 'include'  // Include cookies for cross-origin requests
            };
        }
    }
    });
    </script>
    <script src="script.js"></script>
</body>
</html>